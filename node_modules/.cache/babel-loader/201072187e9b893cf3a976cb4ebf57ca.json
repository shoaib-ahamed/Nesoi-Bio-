{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import Modal from'react-modal';import'./Admin.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement('#root');var Admin=/*#__PURE__*/function(_Component){_inherits(Admin,_Component);var _super=_createSuper(Admin);function Admin(props){var _this;_classCallCheck(this,Admin);_this=_super.call(this,props);_this.modalClose=function(){_this.setState({modal:false});};_this.state={tasks:[],single:[],modal:false};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json,tasks,array;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://api.greelab.com/tasks');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;tasks=json.data.data;array=tasks.reverse();this.setState({tasks:array});case 9:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleModal\",value:function(){var _handleModal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var response,json,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://api.greelab.com/tasks/\".concat(event));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:json=_context2.sent;data=json.data.data;this.setState({single:data});this.setState({modal:true});case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleModal(_x){return _handleModal.apply(this,arguments);}return handleModal;}()},{key:\"deleteData\",value:function deleteData(event){var _this2=this;fetch(\"https://api.greelab.com/tasks/\".concat(event),{method:'DELETE'}).then(function(){return _this2.setState({modal:false});});}},{key:\"render\",value:function render(){var _this3=this;var isAuthenticated=localStorage.getItem('token');return isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date & Time\"})]})}),this.state.tasks.map(function(data){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return _this3.handleModal(data._id);},children:[/*#__PURE__*/_jsx(\"td\",{children:data.name}),/*#__PURE__*/_jsx(\"td\",{children:data.email}),/*#__PURE__*/_jsx(\"td\",{children:data.date})]})},data._id);})]})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Modal,{isOpen:this.state.modal,shouldCloseOnOverlayClick:false,onRequestClose:function onRequestClose(){return _this3.setState({modal:false});},style:{overlay:{background:'rgba(0, 0, 0, 0.35)',zIndex:'1000'},content:{background:'#343a40',borderRadius:'25px',textAlign:'center',color:'#FFFFFF',width:'888px',margin:'0 auto',border:'none',height:'auto'}},children:/*#__PURE__*/_jsxs(\"div\",{className:\"Client-Details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:this.modalClose,children:\"x\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return _this3.deleteData(_this3.state.single._id);}})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.name})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.email})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Company: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.company})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Description: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.description})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Budget: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.budget})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Location:\",this.state.single.geoLocation&&this.state.single.geoLocation.map(function(data,index){return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"City: \",/*#__PURE__*/_jsx(\"span\",{children:data.city})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"State: \",/*#__PURE__*/_jsx(\"span\",{children:data.state})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Country: \",/*#__PURE__*/_jsx(\"span\",{children:data.country_name})]})]},index);})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Date: \",/*#__PURE__*/_jsx(\"span\",{children:this.state.single.date})]})]},this.state.single._id)]})})})]}):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login'}});}}]);return Admin;}(Component);export default Admin;","map":{"version":3,"sources":["/Users/shoaibahamedshafi/Documents/NesoiCodeBases/nesoi.bio/web-v.1 (react)/src/app/admin/Admin.js"],"names":["React","Component","Redirect","Modal","setAppElement","Admin","props","modalClose","setState","modal","state","tasks","single","fetch","response","json","data","array","reverse","event","method","then","isAuthenticated","localStorage","getItem","map","handleModal","_id","name","email","date","overlay","background","zIndex","content","borderRadius","textAlign","color","width","margin","border","height","deleteData","company","description","budget","geoLocation","index","city","country_name","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport Modal from 'react-modal';\n\nimport './Admin.css'\n\n\nModal.setAppElement('#root')\n\nclass Admin extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tasks: [],\n            single: [],\n            modal: false\n        }\n    }\n\n   async componentDidMount() {\n        const response = await fetch('https://api.greelab.com/tasks')\n        const json = await response.json();\n        const tasks = json.data.data\n       const array = tasks.reverse();\n        this.setState({tasks: array})\n    }\n\n    async handleModal (event) {\n        const response = await fetch(`https://api.greelab.com/tasks/${event}`);\n        const json = await response.json();\n        const data = json.data.data;\n        this.setState({single: data});\n        this.setState({modal: true});\n    }\n\n\n    deleteData (event) {\n        fetch(`https://api.greelab.com/tasks/${event}`, { method: 'DELETE' })\n        .then(() => this.setState({modal: false}))\n    }\n\n\n\n    modalClose = () => {\n        this.setState({modal: false})\n    }\n\n\n\n    render() {\n\n        const isAuthenticated = localStorage.getItem('token');\n\n        return isAuthenticated ? (\n            <div>\n\n                <section>\n                        <table className=\"table table-dark table-hover\">\n\n                            <thead>\n                            <tr>\n                                <th scope=\"col\">Name</th>\n                                <th scope=\"col\">Email</th>\n                                <th scope=\"col\">Date & Time</th>\n                            </tr>\n                            </thead>\n\n                            {this.state.tasks.map((data) => (\n                                <tbody key={data._id}>\n                                <tr onClick={() => this.handleModal(data._id)}>\n                                    <td>{data.name}</td>\n                                    <td>{data.email}</td>\n                                    <td>{data.date}</td>\n                                </tr>\n                                </tbody>\n                            ))}\n\n                        </table>\n                </section>\n\n                <section>\n                    <Modal\n                        isOpen={this.state.modal}\n                        shouldCloseOnOverlayClick={false}\n                        onRequestClose = {() => this.setState({modal: false})}\n                        style = {{\n                            overlay: {\n                                background: 'rgba(0, 0, 0, 0.35)',\n                                zIndex: '1000'\n                            },\n\n                            content: {\n                                background: '#343a40',\n                                borderRadius: '25px',\n                                textAlign: 'center',\n                                color: '#FFFFFF',\n                                width: '888px',\n                                margin: '0 auto',\n                                border: 'none',\n                                height: 'auto'\n                            }\n                        }}\n\n                    >\n                        {\n                            <div className='Client-Details'>\n                                <div className='text-right'>\n                                    <button className='btn' onClick={this.modalClose}>x</button>\n                                    <button className='btn' onClick={() => this.deleteData(this.state.single._id)} ></button>\n                                </div>\n                                <ul key={this.state.single._id}>\n                                    <li>Name: <span>{this.state.single.name}</span></li>\n                                    <li>Email: <span>{this.state.single.email}</span></li>\n                                    <li>Company: <span>{this.state.single.company}</span></li>\n                                    <li>Description: <span>{this.state.single.description}</span></li>\n                                    <li>Budget: <span>{this.state.single.budget}</span></li>\n                                    <li>Location:\n                                        {this.state.single.geoLocation && this.state.single.geoLocation.map((data, index) =>(\n                                            <ul key={index}>\n                                                <li>City: <span>{data.city}</span></li>\n                                                <li>State: <span>{data.state}</span></li>\n                                                <li>Country: <span>{data.country_name}</span></li>\n                                            </ul>\n                                        ))}\n                                    </li>\n                                    <li>Date: <span>{this.state.single.date}</span></li>\n                                </ul>\n                        </div>}\n\n                    </Modal>\n                </section>\n\n            </div>\n        ) : (\n            <Redirect to={{ pathname: '/login' }} />\n        )\n    }\n}\n\nexport default Admin\n"]},"metadata":{},"sourceType":"module"}